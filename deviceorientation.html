<!DOCTYPE html>
<html lang="en" dir="ltr">

	<head>

		<meta charset="utf-8">

		<title>Gyroscopic Motorcycle</title>

		<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">

		<style>

			html, body {

				margin: 0;

				width: 100%;
				height: 100%;

				font-family: Roboto;

			}

			#output {

				width: 100%;
				height: 100%;

				display: flex;
				flex-direction: column;

			}

			.section {

				position: relative;

				flex: 1;

			}

			.section .variable {

				position: absolute;

				left: 50%;
				transform: translate( -50%, 0% );

				font-size: 15vh;

			}

			.section .label {

				position: absolute;

				bottom: 25%;
				left: 50%;
				transform: translate( -50%, 0% );

				font-size: 2.5vh;

			}

		</style>

	</head>

	<body>

		<div id="output">

			<div class="section">

				<div class="variable" id="alpha">0.0</div>

				<div class="label">ALPHA</div>

			</div>

			<div class="section">

				<div class="variable" id="beta">0.0</div>

				<div class="label">BETA</div>

			</div>
			<div class="section">

				<div class="variable" id="gamma">0.0</div>

				<div class="label">GAMMA</div>

			</div>
			<div class="section">

				<div class="variable" id="orient">0.0</div>

				<div class="label">ORIENTATION</div>

			</div>

		</div>

		<script>

			/*
				Reference: https://developer.mozilla.org/en-US/docs/Web/API/Detecting_device_orientation
			*/

			var MOTO = {};

			MOTO.deviceOrientation = null;
			MOTO.screenOrientation = 0;

			MOTO.Events = {};
			MOTO.Events.onDeviceOrientationChangeEvent = function ( event ) { MOTO.deviceOrientation = event; };
			MOTO.Events.onScreenOrientationChangeEvent = function () { MOTO.screenOrientation = window.orientation || 0; };

			MOTO.DOM = {};
			MOTO.DOM.alpha = document.getElementById("alpha");
			MOTO.DOM.beta = document.getElementById("beta");
			MOTO.DOM.gamma = document.getElementById("gamma");
			MOTO.DOM.orient = document.getElementById("orient");

			if ( window.DeviceOrientationEvent !== undefined && typeof window.DeviceOrientationEvent.requestPermission === 'function' ) {

				window.DeviceOrientationEvent.requestPermission().then( function ( response ) {

					if ( response == 'granted' ) {

						window.addEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );
						window.addEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );

					}

				} ).catch( function ( error ) {

					console.error( 'THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:', error );

				} );

			} else {

				window.addEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );
				window.addEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );

			}

			function MAIN() {

				if( MOTO.deviceOrientation ) {

					MOTO.DOM.alpha.innerHTML = MOTO.deviceOrientation.aplha;
					MOTO.DOM.beta.innerHTML = MOTO.deviceOrientation.beta;
					MOTO.DOM.gamma.innerHTML = MOTO.deviceOrientation.gamma;
					MOTO.DOM.orient.innerHTML = MOTO.screenOrientation;

				}

				requestAnimationFrame( MAIN );

			}

			requestAnimationFrame( MAIN );

		</script>

	</body>

</html>
